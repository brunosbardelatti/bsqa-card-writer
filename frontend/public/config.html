<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>‚öôÔ∏è Configura√ß√µes - BSQA Card Writer</title>
  <link rel="stylesheet" href="assets/style.css">
  <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
</head>
<body>
  <div id="header"></div>
  <div class="container">
    <!-- Bot√µes de navega√ß√£o no topo -->
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
      <button onclick="window.location.href='index.html'" style="background: var(--accent-color); color: var(--text-color); border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer; font-size: 1rem; width: 200px;">
        ‚Üê Voltar ao QA Card Writer
      </button>
      <button class="save-btn" id="saveBtnTop" style="margin: 0; width: 200px;">üíæ Salvar Configura√ß√µes</button>
    </div>
    <h1>‚öôÔ∏è Configura√ß√µes do Usu√°rio</h1>
    <div class="config-section">
      <h2>üë§ Informa√ß√µes Pessoais</h2>
      <div class="config-item">
        <label for="userName">Nome do Usu√°rio <span title="Seu nome completo para identifica√ß√£o nos documentos gerados" style="color: var(--accent-color); cursor: help;">‚ÑπÔ∏è</span></label>
        <input type="text" id="userName" placeholder="Seu nome completo">
      </div>
      <div class="config-item">
        <label for="userEmail">Email <span title="Seu email para contato e identifica√ß√£o" style="color: var(--accent-color); cursor: help;">‚ÑπÔ∏è</span></label>
        <input type="email" id="userEmail" placeholder="seu@email.com">
      </div>
      <div class="config-item">
        <label for="userCompany">Empresa <span title="Nome da sua empresa para personaliza√ß√£o dos documentos" style="color: var(--accent-color); cursor: help;">‚ÑπÔ∏è</span></label>
        <input type="text" id="userCompany" placeholder="Nome da empresa">
      </div>
    </div>
    <div class="config-section">
      <h2>üìã Prefer√™ncias de Sa√≠da</h2>
      <div class="checkbox-item">
        <input type="checkbox" id="autoCopy">
        <label for="autoCopy">Copiar resultado automaticamente <span title="Copia automaticamente o resultado para a √°rea de transfer√™ncia ap√≥s a gera√ß√£o" style="color: var(--accent-color); cursor: help;">‚ÑπÔ∏è</span></label>
      </div>
      <div class="checkbox-item">
        <input type="checkbox" id="clearAfterSuccess" checked>
        <label for="clearAfterSuccess">Limpar campos ap√≥s sucesso <span title="Limpa automaticamente os campos de entrada ap√≥s gerar uma resposta com sucesso" style="color: var(--accent-color); cursor: help;">‚ÑπÔ∏è</span></label>
      </div>
      <div class="checkbox-item disabled">
        <input type="checkbox" id="showHistory" disabled>
        <label for="showHistory" title="Funcionalidade em desenvolvimento - Em breve dispon√≠vel">Mostrar hist√≥rico de an√°lises <span title="Permite visualizar e reutilizar an√°lises anteriores (funcionalidade em desenvolvimento)" style="color: var(--accent-color); cursor: help;">‚ÑπÔ∏è</span></label>
        <span style="color: var(--muted-text); font-size: 0.8em; margin-left: 0.5rem;">(Em desenvolvimento)</span>
      </div>
    </div>
    <div class="config-section">
      <h2>üé® Configura√ß√µes de Interface</h2>
      <div class="config-item">
        <label for="theme">Tema <span title="Escolha entre tema escuro, claro ou autom√°tico baseado nas configura√ß√µes do sistema" style="color: var(--accent-color); cursor: help;">‚ÑπÔ∏è</span></label>
        <select id="theme">
          <option value="dark">Escuro (Padr√£o)</option>
          <option value="light">Claro</option>
          <option value="auto">Autom√°tico</option>
        </select>
      </div>
    </div>
    <div class="config-section">
      <h2>ü§ñ Configura√ß√µes de IA</h2>
      <div class="config-item">
        <label for="defaultAnalyseType">Tipo de An√°lise Padr√£o <span title="Selecione o tipo de an√°lise que ser√° usado por padr√£o" style="color: var(--accent-color); cursor: help;">‚ÑπÔ∏è</span></label>
        <select id="defaultAnalyseType">
          <option value="">Carregando tipos de an√°lise...</option>
        </select>
      </div>
      <div class="config-item">
        <label for="defaultAI">IA Padr√£o <span title="Selecione qual IA ser√° usada por padr√£o: OpenAI ou StackSpot AI" style="color: var(--accent-color); cursor: help;">‚ÑπÔ∏è</span></label>
        <select id="defaultAI">
          <option value="openai">OpenAI</option>
          <option value="stackspot">StackSpot AI</option>
        </select>
        <div id="defaultAIWarning" style="display:none; color: #f44336; font-size: 0.95em; margin-top: 0.5rem;"></div>
      </div>
      <fieldset style="border: 2px solid #4caf50; border-radius: 8px; padding: 1rem; margin-bottom: 1.5rem;">
        <legend style="color: #4caf50; font-weight: bold; padding: 0 0.5rem;">OpenAI</legend>
        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 1rem;">
          <label>üîë Configura√ß√µes OpenAI <span title="Configura√ß√µes necess√°rias para usar a OpenAI" style="color: var(--accent-color); cursor: help;">‚ÑπÔ∏è</span></label>
          <div style="display: flex; align-items: center;">
            <input type="checkbox" id="openaiEnabled" style="margin-right: 0.5rem;">
            <label for="openaiEnabled" style="margin: 0; font-size: 0.9em;">Habilitar OpenAI</label>
          </div>
        </div>
        <div class="config-item">
          <label for="openaiApiKey">API Key <span title="Sua chave de API da OpenAI (obrigat√≥rio para usar OpenAI)" style="color: var(--accent-color); cursor: help;">‚ÑπÔ∏è</span></label>
          <input type="password" id="openaiApiKey" placeholder="sk-..." disabled>
        </div>
        <div class="config-item">
          <label for="maxTokens">M√°ximo de Tokens <span title="N√∫mero m√°ximo de tokens para gerar a resposta. Valores maiores geram respostas mais detalhadas" style="color: var(--accent-color); cursor: help;">‚ÑπÔ∏è</span></label>
          <input type="text" id="maxTokens" placeholder="1000" value="1000">
        </div>
      </fieldset>
      <fieldset style="border: 2px solid #2196f3; border-radius: 8px; padding: 1rem; margin-bottom: 1.5rem;">
        <legend style="color: #2196f3; font-weight: bold; padding: 0 0.5rem;">StackSpot AI</legend>
        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 1rem;">
          <label>üîë Configura√ß√µes StackSpot AI <span title="Configura√ß√µes necess√°rias para usar o StackSpot AI" style="color: var(--accent-color); cursor: help;">‚ÑπÔ∏è</span></label>
          <div style="display: flex; align-items: center;">
            <input type="checkbox" id="stackspotEnabled" style="margin-right: 0.5rem;">
            <label for="stackspotEnabled" style="margin: 0; font-size: 0.9em;">Habilitar StackSpot AI</label>
          </div>
        </div>
        <div class="config-item">
          <label for="stackspotClientId">Client ID <span title="ID do cliente StackSpot (obrigat√≥rio)" style="color: var(--accent-color); cursor: help;">‚ÑπÔ∏è</span></label>
          <input type="text" id="stackspotClientId" placeholder="seu-client-id" disabled>
        </div>
        <div class="config-item">
          <label for="stackspotClientSecret">Client Secret <span title="Chave secreta do cliente StackSpot (obrigat√≥rio)" style="color: var(--accent-color); cursor: help;">‚ÑπÔ∏è</span></label>
          <input type="password" id="stackspotClientSecret" placeholder="seu-client-secret" disabled>
        </div>
        <div class="config-item">
          <label for="stackspotRealm">Realm <span title="Realm do StackSpot (obrigat√≥rio)" style="color: var(--accent-color); cursor: help;">‚ÑπÔ∏è</span></label>
          <input type="text" id="stackspotRealm" placeholder="seu-realm" disabled>
        </div>
        <div class="config-item">
          <label for="stackspotAgentId">Agent ID <span title="ID do agente StackSpot (obrigat√≥rio)" style="color: var(--accent-color); cursor: help;">‚ÑπÔ∏è</span></label>
          <input type="text" id="stackspotAgentId" placeholder="seu-agent-id" disabled>
        </div>
        <div class="config-item">
          <label>Configura√ß√µes StackSpot AI <span title="Configura√ß√µes espec√≠ficas para o StackSpot AI" style="color: var(--accent-color); cursor: help;">‚ÑπÔ∏è</span></label>
          <div class="checkbox-item">
            <input type="checkbox" id="streaming">
            <label for="streaming">Streaming (resposta em tempo real) <span title="Ativa o modo streaming para receber respostas em tempo real do StackSpot AI" style="color: var(--accent-color); cursor: help;">‚ÑπÔ∏è</span></label>
          </div>
          <div class="checkbox-item">
            <input type="checkbox" id="stackspotKnowledge">
            <label for="stackspotKnowledge">Usar conhecimento StackSpot <span title="Utiliza o conhecimento espec√≠fico do StackSpot para melhorar as respostas" style="color: var(--accent-color); cursor: help;">‚ÑπÔ∏è</span></label>
          </div>
          <div class="checkbox-item">
            <input type="checkbox" id="returnKsInResponse">
            <label for="returnKsInResponse">Retornar KS na resposta <span title="Inclui informa√ß√µes do Knowledge Source (KS) na resposta gerada" style="color: var(--accent-color); cursor: help;">‚ÑπÔ∏è</span></label>
          </div>
        </div>
      </fieldset>
      <!-- Bot√£o para testar configura√ß√µes -->
      <div class="config-item" style="margin-top: 1rem;">
        <button onclick="testApiConfig()" style="background: var(--accent-color); color: var(--bg-color); border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-size: 0.9em;">
          üß™ Testar Configura√ß√µes de API
        </button>
        <div id="testResult" style="margin-top: 0.5rem; padding: 0.5rem; border-radius: 4px; display: none;"></div>
      </div>
    </div>
    <!-- Bot√µes de navega√ß√£o no rodap√© -->
    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 2rem; padding-top: 1rem; border-top: 1px solid var(--muted-text);">
      <button onclick="window.location.href='index.html'" style="background: var(--accent-color); color: var(--text-color); border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer; font-size: 1rem; width: 200px;">
        ‚Üê Voltar ao QA Card Writer
      </button>
      <button class="save-btn" id="saveBtn" style="margin: 0; width: 200px;">üíæ Salvar Configura√ß√µes</button>
    </div>
    <div id="statusMessage" class="status-message"></div>
  </div>
  <div id="modal"></div>
  <div id="footer"></div>
  <script type="module" src="js/main.js"></script>
  <script type="module" src="js/config.js"></script>
</body>
</html> 